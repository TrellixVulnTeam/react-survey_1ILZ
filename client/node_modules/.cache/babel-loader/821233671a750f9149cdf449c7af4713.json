{"ast":null,"code":"import _regeneratorRuntime from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vanessa/Desktop/survey/client/src/components/form-data-component.js\";\nimport React, { Component } from 'react';\n\nvar FormDataComponent = /*#__PURE__*/function (_Component) {\n  _inherits(FormDataComponent, _Component);\n\n  function FormDataComponent() {\n    _classCallCheck(this, FormDataComponent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FormDataComponent).apply(this, arguments));\n  }\n\n  _createClass(FormDataComponent, [{\n    key: \"render\",\n    value: function render() {\n      // user's response\n      var _useState = useState(\"\"),\n          _useState2 = _slicedToArray(_useState, 2),\n          name = _useState2[0],\n          setName = _useState2[1];\n\n      var _useState3 = useState(\"\"),\n          _useState4 = _slicedToArray(_useState3, 2),\n          colour = _useState4[0],\n          setColour = _useState4[1]; // backend data \n\n\n      var _useState5 = useState([]),\n          _useState6 = _slicedToArray(_useState5, 2),\n          list = _useState6[0],\n          setList = _useState6[1]; // fetch list of questions \n\n\n      useEffect(function () {\n        fetch(\"http://localhost:3500/questions/list\").then(function (res) {\n          return res.json();\n        }).then(function (resJson) {\n          return setList(resJson.data);\n        });\n      }, []);\n      var qnBuffer = [\"\"];\n      var choiceBuffer = [[], []];\n\n      function buffer() {\n        return _buffer.apply(this, arguments);\n      }\n\n      function _buffer() {\n        _buffer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var i;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  i = 0;\n                  _context.prev = 1;\n                  _context.next = 4;\n                  return list.map(function (qn) {\n                    qnBuffer[i] = qn.question;\n                    choiceBuffer[i] = cloneArr(qn.choices);\n                    i++;\n                  });\n\n                case 4:\n                  _context.next = 9;\n                  break;\n\n                case 6:\n                  _context.prev = 6;\n                  _context.t0 = _context[\"catch\"](1);\n                  console.log(\"ERROR! List not ready\");\n\n                case 9:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[1, 6]]);\n        }));\n        return _buffer.apply(this, arguments);\n      }\n\n      buffer();\n      var navigate = useNavigate();\n\n      var handleSubmit = function handleSubmit(e) {\n        e.preventDefault();\n        navigate(\"/Summary\");\n      };\n\n      function getOption(_id) {\n        var opt = document.getElementById(_id);\n        return opt.value;\n      }\n\n      function cloneArr(arr) {\n        var temp = [];\n        var i = 0;\n        arr.map(function (item) {\n          temp[i] = item;\n          i++;\n        });\n        return temp;\n      }\n\n      function generateDropdown(arr) {\n        var _this = this;\n\n        return arr.map(function (opt) {\n          return /*#__PURE__*/React.createElement(\"option\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 22\n            }\n          }, opt);\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }\n      }, qnBuffer[0]), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: name,\n        onChange: function onChange(e) {\n          return setName(e.target.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }\n      }, qnBuffer[1]), /*#__PURE__*/React.createElement(\"select\", {\n        id: \"qn2\",\n        onChange: function onChange() {\n          return setColour(getOption(\"qn2\"));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      }, generateDropdown(choiceBuffer[1]))), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 16\n        }\n      }))));\n    }\n  }]);\n\n  return FormDataComponent;\n}(Component);\n\nexport { FormDataComponent as default };","map":{"version":3,"names":["React","Component","FormDataComponent","useState","name","setName","colour","setColour","list","setList","useEffect","fetch","then","res","json","resJson","data","qnBuffer","choiceBuffer","buffer","i","map","qn","question","cloneArr","choices","console","log","navigate","useNavigate","handleSubmit","e","preventDefault","getOption","_id","opt","document","getElementById","value","arr","temp","item","generateDropdown","target"],"sources":["/Users/vanessa/Desktop/survey/client/src/components/form-data-component.js"],"sourcesContent":["import React, { Component } from 'react';\n\nexport default class FormDataComponent extends Component {\n    render() {\n\n      // user's response\n  const [name, setName] = useState(\"\");\n  const [colour, setColour] = useState(\"\");\n\n  // backend data \n  const [list, setList] = useState([]);\n\n  // fetch list of questions \n  useEffect(() => {\n    fetch(\"http://localhost:3500/questions/list\")\n    .then(res => res.json())\n    .then(resJson => setList(resJson.data))\n  }, [])\n\n  let qnBuffer = [\"\"]\n  let choiceBuffer = [[], []]\n\n  async function buffer() {\n    var i = 0;\n    try {\n      await list.map(qn => {\n        qnBuffer[i] = qn.question\n        choiceBuffer[i] = cloneArr(qn.choices)\n        i++;\n      })\n    } catch (error) {\n      console.log(\"ERROR! List not ready\")\n    }\n  }\n  buffer()\n \n  const navigate = useNavigate()\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    navigate(\"/Summary\")\n  }\n\n  function getOption(_id) {\n    var opt = document.getElementById(_id)\n    return (opt.value)\n  }\n\n  function cloneArr(arr) {\n    let temp = []\n    var i = 0;\n    arr.map(item => {\n      temp[i] = item\n      i++\n    })\n    return (temp)\n  }\n  \n  function generateDropdown(arr) {\n    return (\n      arr.map(opt => <option>{opt}</option>)\n    )\n  }\n\n      return (\n        <div>\n          <form onSubmit={handleSubmit}>\n            <label>\n              <p>{qnBuffer[0]}</p>\n                <input \n                  type=\"text\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                />\n            </label>\n              \n            <label>\n              <p>{qnBuffer[1]}</p>\n              <select id=\"qn2\" onChange={() => setColour(getOption(\"qn2\"))}>\n                {generateDropdown(choiceBuffer[1])}\n              </select>\n            </label>\n    \n            <p><input type=\"submit\" /></p>\n          </form>\n        </div>\n      )\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}