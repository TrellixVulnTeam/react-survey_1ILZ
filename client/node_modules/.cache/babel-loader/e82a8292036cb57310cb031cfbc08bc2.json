{"ast":null,"code":"import _regeneratorRuntime from \"/Users/vanessa/Desktop/questionnaire/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/vanessa/Desktop/questionnaire/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/vanessa/Desktop/questionnaire/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/vanessa/Desktop/questionnaire/client/src/App.js\";\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Route, BrowserRouter as Router, Routes, useNavigate } from \"react-router-dom\";\nimport ReactDOM from 'react-dom';\nimport Navigate from \"./components/Home\";\nimport Home from \"./components/Home\";\nimport Summary from \"./components/Summary\";\n\nfunction Survey() {\n  // user's response\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      colour = _useState4[0],\n      setColour = _useState4[1]; // backend data \n\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      list = _useState6[0],\n      setList = _useState6[1]; // fetch list of questions \n\n\n  useEffect(function () {\n    fetch(\"http://localhost:3500/questions/list\").then(function (res) {\n      return res.json();\n    }).then(function (resJson) {\n      return setList(resJson.data);\n    });\n  }, []);\n  var qnBuffer = [\"\"];\n  var choiceBuffer = [[], []];\n\n  function buffer() {\n    return _buffer.apply(this, arguments);\n  }\n\n  function _buffer() {\n    _buffer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var i;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              i = 0;\n              _context.prev = 1;\n              _context.next = 4;\n              return list.map(function (qn) {\n                qnBuffer[i] = qn.question;\n                choiceBuffer[i] = cloneArr(qn.choices);\n                i++;\n              });\n\n            case 4:\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(\"ERROR! List not ready\");\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 6]]);\n    }));\n    return _buffer.apply(this, arguments);\n  }\n\n  buffer();\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    console.log(name);\n    console.log(colour);\n    navigate(\"/Summary\"); //alert(`Response submitted! Have a good day!`)\n  };\n\n  function getOption(_id) {\n    var opt = document.getElementById(_id);\n    console.log(opt.value);\n    return opt.value;\n  }\n\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, qnBuffer[0]), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, qnBuffer[1]), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"qn2\",\n    onChange: function onChange() {\n      return setColour(getOption(\"qn2\"));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, generateDropdown(choiceBuffer[1]))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 14\n    }\n  })))), /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(Home, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 34\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/Summary\",\n    element: /*#__PURE__*/React.createElement(Summary, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 41\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  })));\n}\n\nfunction cloneArr(arr) {\n  var temp = [];\n  var i = 0;\n  arr.map(function (item) {\n    temp[i] = item;\n    i++;\n  });\n  return temp;\n}\n/**\n * Returns a HTML script to generate dropdowns\n * \n * @param {*} arr \n * @returns \n */\n\n\nfunction generateDropdown(arr) {\n  var _this = this;\n\n  return arr.map(function (opt) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 20\n      }\n    }, opt);\n  });\n}\n\nexport default Survey;","map":{"version":3,"names":["React","useState","useEffect","Route","BrowserRouter","Router","Routes","useNavigate","ReactDOM","Navigate","Home","Summary","Survey","name","setName","colour","setColour","list","setList","fetch","then","res","json","resJson","data","qnBuffer","choiceBuffer","buffer","i","map","qn","question","cloneArr","choices","console","log","handleSubmit","e","preventDefault","navigate","getOption","_id","opt","document","getElementById","value","target","generateDropdown","arr","temp","item"],"sources":["/Users/vanessa/Desktop/questionnaire/client/src/App.js"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react'\nimport { Route, BrowserRouter as Router, Routes, useNavigate } from \"react-router-dom\";\nimport ReactDOM from 'react-dom'\nimport Navigate from \"./components/Home\"\n\nimport Home from \"./components/Home\"\nimport Summary from \"./components/Summary\"\n\nfunction Survey() {\n  // user's response\n  const [name, setName] = useState(\"\");\n  const [colour, setColour] = useState(\"\");\n\n  // backend data \n  const [list, setList] = useState([]);\n\n  // fetch list of questions \n  useEffect(() => {\n    fetch(\"http://localhost:3500/questions/list\")\n    .then(res => res.json())\n    .then(resJson => setList(resJson.data))\n  }, [])\n\n  let qnBuffer = [\"\"]\n  let choiceBuffer = [[], []]\n\n  async function buffer() {\n    var i = 0;\n    try {\n      await list.map(qn => {\n        qnBuffer[i] = qn.question\n        choiceBuffer[i] = cloneArr(qn.choices)\n        i++;\n      })\n    } catch (error) {\n      console.log(\"ERROR! List not ready\")\n    }\n  }\n  buffer()\n \n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(name)\n    console.log(colour)\n    navigate(\"/Summary\")\n    //alert(`Response submitted! Have a good day!`)\n  }\n\n  function getOption(_id) {\n    var opt = document.getElementById(_id)\n    console.log(opt.value)\n    return (opt.value)\n  }\n\n  return (\n    <Router>\n      <div>\n        <form onSubmit={handleSubmit}>\n\n          <label>\n            <p>{qnBuffer[0]}</p>\n            <input \n              type=\"text\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n          </label>\n          \n          <label>\n          <p>{qnBuffer[1]}</p>\n          <select id=\"qn2\" onChange={() => setColour(getOption(\"qn2\"))}>\n            {generateDropdown(choiceBuffer[1])}\n          </select>\n          </label>\n\n          <p><input type=\"submit\" /></p>\n        </form>\n      </div>\n      <Routes>\n        <Route path=\"/\" element={<Home />}/>\n        <Route path=\"/Summary\" element={<Summary />}/>\n      </Routes>\n    </Router>\n  )\n}\n\nfunction cloneArr(arr) {\n  let temp = []\n  var i = 0;\n  arr.map(item => {\n    temp[i] = item\n    i++\n  })\n  return (temp)\n}\n\n/**\n * Returns a HTML script to generate dropdowns\n * \n * @param {*} arr \n * @returns \n */\nfunction generateDropdown(arr) {\n  return (\n    arr.map(opt => <option>{opt}</option>)\n  )\n}\n\nexport default Survey;"],"mappings":"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"},"metadata":{},"sourceType":"module"}