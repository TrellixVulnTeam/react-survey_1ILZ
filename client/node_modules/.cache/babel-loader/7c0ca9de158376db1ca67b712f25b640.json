{"ast":null,"code":"import _objectSpread from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/vanessa/Desktop/survey/client/src/components/PostForm.js\";\nimport React from \"react\";\nimport { useState, useEffect } from 'react';\nimport { qnBuffer, choiceBuffer } from \"./Home\";\nimport Axios from 'axios';\nimport { useNavigate } from \"react-router-dom\";\n\nfunction PostForm() {\n  var url = \"http//localhost:3500/questions/response/Create\";\n\n  var _useState = useState({\n    name: \"\",\n    colour: \"blue\",\n    iduser: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  function handleChange(e) {\n    var newData = _objectSpread({}, data); // copy curr data\n\n\n    newData[e.target.id] = e.target.value; // console.log(newData)\n    // console.log(e.target.value)\n\n    setData(newData);\n  }\n\n  var navigate = useNavigate();\n\n  function _onSubmit(e) {\n    e.preventDefault();\n    Axios.post(url, {\n      name: data.name,\n      colour: data.colour\n    }).then(function (res) {\n      console.log(res.data);\n    }).then(navigate(\"/Summary\")); // console.log(data.name + data.colour)\n    // navigate(\"/Summary\")\n  }\n\n  function generateDropdown() {\n    var _this = this;\n\n    var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    return arr.map(function (opt) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 22\n        }\n      }, opt);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: function onSubmit(e) {\n      return _onSubmit(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, qnBuffer[0]), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    required: true,\n    id: \"name\",\n    value: data.name,\n    onChange: function onChange(e) {\n      return handleChange(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, qnBuffer[1]), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"colour\",\n    value: data.colour,\n    onChange: function onChange(e) {\n      return handleChange(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, generateDropdown(choiceBuffer[1]))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 12\n    }\n  }))));\n}\n\nexport default PostForm;","map":{"version":3,"names":["React","useState","useEffect","qnBuffer","choiceBuffer","Axios","useNavigate","PostForm","url","name","colour","iduser","data","setData","handleChange","e","newData","target","id","value","navigate","onSubmit","preventDefault","post","then","res","console","log","generateDropdown","arr","map","opt"],"sources":["/Users/vanessa/Desktop/survey/client/src/components/PostForm.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from 'react';\nimport {qnBuffer, choiceBuffer} from \"./Home\";\nimport Axios from 'axios';\nimport { useNavigate } from \"react-router-dom\";\n\nfunction PostForm() {\n  const url = \"http//localhost:3500/questions/response/Create\"\n  const [data, setData] = useState({\n    name: \"\",\n    colour: \"blue\",\n    iduser: \"\"\n  })\n\n  function handleChange(e) {\n    const newData = { ...data } // copy curr data\n    newData[e.target.id] = e.target.value\n    // console.log(newData)\n    // console.log(e.target.value)\n    setData(newData)\n  }\n\n  const navigate = useNavigate()\n  function onSubmit(e) {\n    e.preventDefault();\n    Axios.post(url, {\n      name: data.name,\n      colour: data.colour\n    })\n    .then(res => {console.log(res.data)})\n    .then(navigate(\"/Summary\"))\n    // console.log(data.name + data.colour)\n    // navigate(\"/Summary\")\n  }\n\n  function generateDropdown(arr =[]) {\n    return (\n      arr.map(opt => <option>{opt}</option>)\n    )\n  }\n\n  return (\n    <div className='container'>\n      <form onSubmit={e => onSubmit(e)}>\n        <label>\n          <p>{qnBuffer[0]}</p>\n          <input\n            type=\"text\" required\n            id=\"name\"\n            value={data.name}\n            onChange={(e) => handleChange(e)}\n          />\n        </label>\n\n        <label>\n          <p>{qnBuffer[1]}</p>\n          <select \n            id=\"colour\"\n            value={data.colour}\n            onChange={(e) => handleChange(e)}\n            >\n            {generateDropdown(choiceBuffer[1])}\n          </select>\n        </label>\n\n        <p><input type=\"submit\" /></p>\n      </form>\n    </div>\n  )\n}\n\nexport default PostForm\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}