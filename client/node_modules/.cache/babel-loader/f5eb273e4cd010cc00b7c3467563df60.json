{"ast":null,"code":"import _classCallCheck from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/vanessa/Desktop/survey/client/src/components/form-data-component.js\";\nimport React, { Component } from 'react';\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { qnBuffer, choiceBuffer } from \"./Home\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nvar FormDataComponent = /*#__PURE__*/function (_Component) {\n  _inherits(FormDataComponent, _Component);\n\n  // from server\n  // from server\n  function FormDataComponent(props) {\n    var _this;\n\n    _classCallCheck(this, FormDataComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormDataComponent).call(this, props));\n    _this.qnBuffer = [];\n    _this.choiceBuffer = [];\n    _this.onChangeName = _this.onChangeName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getOption = _this.getOption.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.generateDropdown = _this.generateDropdown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      name: '',\n      colour: ''\n    };\n    return _this;\n  } // Form Events\n\n\n  _createClass(FormDataComponent, [{\n    key: \"onChangeName\",\n    value: function onChangeName(e) {\n      this.setState({\n        name: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeColour\",\n    value: function onChangeColour(e) {\n      this.setState({\n        colour: e\n      });\n    }\n  }, {\n    key: \"saveFormData\",\n    value: function saveFormData() {\n      var response = fetch(\"/Home\", {\n        method: 'POST',\n        body: JSON.stringify(this.userData)\n      });\n\n      if (response.status !== 200) {\n        console.log(\"FAILED TO SAVE\");\n      }\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      e.preventDefault();\n\n      try {\n        this.saveFormData();\n        alert(\"Submitted!\");\n      } catch (_unused) {\n        alert();\n      }\n    } // React Life Cycle\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.userData = JSON.parse(localStorage.getItem('user'));\n\n      if (localStorage.getItem('user')) {\n        this.setState({\n          name: this.userData.name,\n          colour: this.userData.colour\n        });\n      } else {\n        this.setState({\n          name: '',\n          colour: ''\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate(nextProps, nextState) {\n      localStorage.setItem('user', JSON.stringify(nextState));\n    }\n  }, {\n    key: \"getOption\",\n    value: function getOption(_id) {\n      var opt = document.getElementById(_id); //console.log(opt.value)\n\n      return opt.value;\n    }\n  }, {\n    key: \"generateDropdown\",\n    value: function generateDropdown() {\n      var _this2 = this;\n\n      var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      return arr.map(function (opt) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 20\n          }\n        }, opt);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }\n      }, qnBuffer[0]), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        required: true,\n        className: \"form-control\",\n        value: this.state.name,\n        onChange: this.onChangeName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }\n      }, qnBuffer[1]), /*#__PURE__*/React.createElement(\"select\", {\n        id: \"qn2\",\n        onChange: function onChange() {\n          return _this3.onChangeColour(_this3.getOption(\"qn2\"));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }\n      }, this.generateDropdown(choiceBuffer[1]))), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 12\n        }\n      }))));\n    }\n  }]);\n\n  return FormDataComponent;\n}(Component);\n\nexport { FormDataComponent as default };","map":{"version":3,"names":["React","Component","useState","useEffect","useNavigate","qnBuffer","choiceBuffer","FormDataComponent","props","onChangeName","bind","onSubmit","getOption","generateDropdown","state","name","colour","e","setState","target","value","response","fetch","method","body","JSON","stringify","userData","status","console","log","preventDefault","saveFormData","alert","parse","localStorage","getItem","nextProps","nextState","setItem","_id","opt","document","getElementById","arr","map","onChangeColour"],"sources":["/Users/vanessa/Desktop/survey/client/src/components/form-data-component.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport {qnBuffer, choiceBuffer} from \"./Home\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nexport default class FormDataComponent extends Component {\n  userData;\n  qnBuffer = [] // from server\n  choiceBuffer = [] // from server\n\n  constructor(props) {\n      super(props);\n      this.onChangeName = this.onChangeName.bind(this);\n      this.onSubmit = this.onSubmit.bind(this);\n      this.getOption = this.getOption.bind(this);\n      this.generateDropdown = this.generateDropdown.bind(this);\n\n      this.state = {\n          name: '',\n          colour: ''\n      }\n  }\n\n  // Form Events\n  onChangeName(e) {\n    this.setState({ name: e.target.value })\n  }\n\n  onChangeColour(e) {\n    this.setState({ colour: e })\n  }\n\n  saveFormData() {\n    const response = fetch(\"/Home\", {\n      method: 'POST',\n      body: JSON.stringify(this.userData)\n    })\n    if(response.status !== 200) {\n      console.log(\"FAILED TO SAVE\")\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault()\n    try {\n      this.saveFormData()\n      alert(\"Submitted!\")\n\n    } catch {\n      alert()\n\n    }\n  }\n\n  // React Life Cycle\n  componentDidMount() {\n    this.userData = JSON.parse(localStorage.getItem('user'));\n    if (localStorage.getItem('user')) {\n        this.setState({\n            name: this.userData.name,\n            colour: this.userData.colour\n        })\n    } else {\n        this.setState({\n            name: '',\n            colour: ''\n        })\n    }\n}\n\ncomponentWillUpdate(nextProps, nextState) {\n    localStorage.setItem('user', JSON.stringify(nextState));\n}\n\n\ngetOption(_id) {\n  var opt = document.getElementById(_id)\n  //console.log(opt.value)\n  return (opt.value)\n}\n\ngenerateDropdown(arr =[]) {\n  return (\n    arr.map(opt => <option>{opt}</option>)\n  )\n}\n\nrender () {\n  return(\n    <div className='container'>\n      <form onSubmit={this.onSubmit}>\n        <label>\n          <p>{qnBuffer[0]}</p>\n          <input\n            type=\"text\" required\n            className='form-control'\n            value={this.state.name}\n            onChange={this.onChangeName}\n          />\n        </label>\n\n        <label>\n          <p>{qnBuffer[1]}</p>\n          <select id=\"qn2\" onChange={() => this.onChangeColour(this.getOption(\"qn2\"))}>\n            {this.generateDropdown(choiceBuffer[1])}\n          </select>\n        </label>\n\n        <p><input type=\"submit\" /></p>\n      </form>\n    </div>\n  )\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}