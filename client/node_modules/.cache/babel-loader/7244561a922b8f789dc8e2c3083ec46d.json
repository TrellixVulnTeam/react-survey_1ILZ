{"ast":null,"code":"import _regeneratorRuntime from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/vanessa/Desktop/survey/client/src/components/form-data-component.js\";\nimport React, { Component } from 'react';\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nvar FormDataComponent = /*#__PURE__*/function (_Component) {\n  _inherits(FormDataComponent, _Component);\n\n  function FormDataComponent(props) {\n    var _this;\n\n    _classCallCheck(this, FormDataComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormDataComponent).call(this, props));\n    _this.qnBuffer = [];\n    _this.choiceBuffer = [];\n    _this.onChangeName = _this.onChangeName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getOption = _this.getOption.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.generateDropdown = _this.generateDropdown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      name: '',\n      colour: ''\n    };\n    return _this;\n  } // Form Events\n\n\n  _createClass(FormDataComponent, [{\n    key: \"onChangeName\",\n    value: function onChangeName(e) {\n      this.setState({\n        name: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeColour\",\n    value: function onChangeColour(e) {//this.setState({ colour: e})\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      e.preventDefault();\n      this.setState({\n        name: '',\n        colour: ''\n      });\n    } // React Life Cycle\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.userData = JSON.parse(localStorage.getItem('user'));\n\n      if (localStorage.getItem('user')) {\n        this.setState({\n          name: this.userData.name,\n          colour: this.userData.colour\n        });\n      } else {\n        this.setState({\n          name: '',\n          colour: ''\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate(nextProps, nextState) {\n      localStorage.setItem('user', JSON.stringify(nextState));\n    }\n  }, {\n    key: \"fetchData\",\n    value: function fetchData() {\n      var _this2 = this;\n\n      useEffect(function () {\n        fetch(\"http://localhost:3500/questions/list\").then(function (res) {\n          return res.json();\n        }).then(function (resJson) {\n          _this2.list = resJson.data;\n        });\n      }, []);\n\n      function buffer() {\n        return _buffer.apply(this, arguments);\n      }\n\n      function _buffer() {\n        _buffer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var _this3 = this;\n\n          var i;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  i = 0;\n                  _context.prev = 1;\n                  _context.next = 4;\n                  return this.list.map(function (qn) {\n                    _this3.qnBuffer[i] = qn.question;\n                    _this3.choiceBuffer[i] = _this3.cloneArr(qn.choices);\n                    i++;\n                  });\n\n                case 4:\n                  _context.next = 9;\n                  break;\n\n                case 6:\n                  _context.prev = 6;\n                  _context.t0 = _context[\"catch\"](1);\n                  console.log(\"ERROR! List not ready\");\n\n                case 9:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[1, 6]]);\n        }));\n        return _buffer.apply(this, arguments);\n      }\n\n      buffer();\n    }\n  }, {\n    key: \"getOption\",\n    value: function getOption(_id) {\n      var opt = document.getElementById(_id);\n      return opt.value;\n    }\n  }, {\n    key: \"cloneArr\",\n    value: function cloneArr() {\n      var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var len = arr.length;\n      var temp = [];\n\n      if (len != 0) {\n        var i = 0;\n        arr.map(function (item) {\n          temp[i] = item;\n          i++;\n        });\n      }\n\n      return temp;\n    }\n  }, {\n    key: \"generateDropdown\",\n    value: function generateDropdown() {\n      var _this4 = this;\n\n      var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var temp = this.cloneArr(arr);\n      return temp.map(function (opt) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }\n        }, opt);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 7\n        }\n      }, this.fetchData, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }\n      }, this.qnBuffer[0]), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.name,\n        onChange: this.onChangeName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }\n      }, this.qnBuffer[1]), /*#__PURE__*/React.createElement(\"select\", {\n        id: \"qn2\",\n        onChange: function onChange() {\n          return _this5.onChangeColour(_this5.getOption(\"qn2\"));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }\n      }, this.generateDropdown(this.choiceBuffer[1]))), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 12\n        }\n      }))));\n    }\n  }]);\n\n  return FormDataComponent;\n}(Component); //export default FormDataComponent\n// onChange={(e) => setName(e.target.value)}\n\n\nexport { FormDataComponent as default };","map":{"version":3,"names":["React","Component","useState","useEffect","useNavigate","FormDataComponent","props","qnBuffer","choiceBuffer","onChangeName","bind","onSubmit","getOption","generateDropdown","state","name","colour","e","setState","target","value","preventDefault","userData","JSON","parse","localStorage","getItem","nextProps","nextState","setItem","stringify","fetch","then","res","json","resJson","list","data","buffer","i","map","qn","question","cloneArr","choices","console","log","_id","opt","document","getElementById","arr","len","length","temp","item","fetchData","onChangeColour"],"sources":["/Users/vanessa/Desktop/survey/client/src/components/form-data-component.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { useState, useEffect } from 'react'\nimport { useNavigate } from \"react-router-dom\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nexport default class FormDataComponent extends Component {\n  userData;\n  list;\n  qnBuffer = []\n  choiceBuffer = []\n\n  constructor(props) {\n      super(props);\n      this.onChangeName = this.onChangeName.bind(this);\n      this.onSubmit = this.onSubmit.bind(this);\n      this.getOption = this.getOption.bind(this);\n      this.generateDropdown = this.generateDropdown.bind(this);\n\n      this.state = {\n          name: '',\n          colour: ''\n      }\n  }\n\n  // Form Events\n  onChangeName(e) {\n    this.setState({ name: e.target.value })\n  }\n\n  onChangeColour(e) {\n    //this.setState({ colour: e})\n  }\n\n  onSubmit(e) {\n    e.preventDefault()\n    this.setState({\n        name: '',\n        colour: ''\n    })\n  }\n\n  // React Life Cycle\n  componentDidMount() {\n    this.userData = JSON.parse(localStorage.getItem('user'));\n    if (localStorage.getItem('user')) {\n        this.setState({\n            name: this.userData.name,\n            colour: this.userData.colour\n        })\n    } else {\n        this.setState({\n            name: '',\n            colour: ''\n        })\n    }\n}\n\ncomponentWillUpdate(nextProps, nextState) {\n    localStorage.setItem('user', JSON.stringify(nextState));\n}\n\nfetchData() {\n  useEffect(() => {\n    fetch(\"http://localhost:3500/questions/list\")\n    .then(res => res.json())\n    .then(resJson => {\n      this.list = resJson.data\n    })\n  }, [])\n\n  async function buffer() {\n    var i = 0;\n    try {\n      await this.list.map(qn => {\n        this.qnBuffer[i] = qn.question\n        this.choiceBuffer[i] = this.cloneArr(qn.choices)\n        i++;\n      })\n    } catch (error) {\n      console.log(\"ERROR! List not ready\")\n    }\n  }\n  buffer()\n}\n\ngetOption(_id) {\n  var opt = document.getElementById(_id)\n  return (opt.value)\n}\n\ncloneArr(arr = []) {\n  let len = arr.length\n  let temp = []\n  if(len != 0) {\n    var i = 0;\n    arr.map(item => {\n      temp[i] = item\n      i++\n    })\n  }\n  return temp\n}\n\ngenerateDropdown(arr =[]) {\n  var temp = this.cloneArr(arr)\n  return (\n    temp.map(opt => <option>{opt}</option>)\n  )\n}\n\nrender () {\n  return(\n    <div>\n      <form onSubmit={this.onSubmit}>\n        {this.fetchData}\n        <label>\n          <p>{this.qnBuffer[0]}</p>\n          <input\n            type=\"text\"\n            value={this.state.name}\n            onChange={this.onChangeName}\n          />\n        </label>\n\n        <label>\n          <p>{this.qnBuffer[1]}</p>\n          <select id=\"qn2\" onChange={() => this.onChangeColour(this.getOption(\"qn2\"))}>\n            {this.generateDropdown(this.choiceBuffer[1])}\n          </select>\n        </label>\n\n        <p><input type=\"submit\" /></p>\n      </form>\n    </div>\n  )\n  }\n}\n\n//export default FormDataComponent\n// onChange={(e) => setName(e.target.value)}"],"mappings":"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"},"metadata":{},"sourceType":"module"}