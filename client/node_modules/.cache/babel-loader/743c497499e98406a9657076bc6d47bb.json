{"ast":null,"code":"import _regeneratorRuntime from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/vanessa/Desktop/survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/vanessa/Desktop/survey/client/src/components/Survey.jsx\";\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport PostForm from './PostForm';\nvar qnBuffer = [];\n\nfunction Survey() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      list = _useState2[0],\n      setList = _useState2[1]; // fecth data from server \n\n\n  useEffect(function () {\n    fetch(\"http://localhost:3500/questions/list\").then(function (res) {\n      return res.json();\n    }).then(function (resJson) {\n      return setList(resJson.data);\n    });\n  }, []);\n\n  function buffer() {\n    return _buffer.apply(this, arguments);\n  }\n\n  function _buffer() {\n    _buffer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var i;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              i = 0;\n              _context.next = 4;\n              return list.map(function (qn) {\n                qnBuffer[i] = [qn.field2, qn.field3];\n                choiceBuffer[i] = [qn._value, qn.choices];\n                i++;\n              });\n\n            case 4:\n              _context.next = 10;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(\"ERROR! List not ready\");\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6]]);\n    }));\n    return _buffer.apply(this, arguments);\n  }\n\n  buffer();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PostForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Survey;\nexport { qnBuffer };","map":{"version":3,"names":["React","useState","useEffect","PostForm","qnBuffer","Survey","list","setList","fetch","then","res","json","resJson","data","buffer","i","map","qn","field2","field3","choiceBuffer","_value","choices","console","log"],"sources":["/Users/vanessa/Desktop/survey/client/src/components/Survey.jsx"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react'\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport PostForm from './PostForm';\n\nvar qnBuffer = []\n\nfunction Survey() {\n\n  const [list, setList] = useState([])\n\n  // fecth data from server \n  useEffect(() => {\n    fetch(\"http://localhost:3500/questions/list\")\n      .then(res => res.json())\n      .then(resJson => setList(resJson.data))\n  }, [])\n\n  async function buffer() {\n    try {\n        var i = 0;\n        await list.map(qn => {\n        qnBuffer[i] = [qn.field2, qn.field3]\n        choiceBuffer[i] = [qn._value, qn.choices]\n        i++;})\n    } catch (error) {\n      console.log(\"ERROR! List not ready\")\n      console.log(error)\n    }\n  }\n  buffer()\n\n  return (\n    <div>\n      <PostForm />\n    </div>\n  )\n}\n\nexport default Survey;\nexport {qnBuffer };\n"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAO,yDAAP;AACA,OAAOC,QAAP,MAAqB,YAArB;AAEA,IAAIC,QAAQ,GAAG,EAAf;;AAEA,SAASC,MAAT,GAAkB;EAAA,gBAEQJ,QAAQ,CAAC,EAAD,CAFhB;EAAA;EAAA,IAETK,IAFS;EAAA,IAEHC,OAFG,kBAIhB;;;EACAL,SAAS,CAAC,YAAM;IACdM,KAAK,CAAC,sCAAD,CAAL,CACGC,IADH,CACQ,UAAAC,GAAG;MAAA,OAAIA,GAAG,CAACC,IAAJ,EAAJ;IAAA,CADX,EAEGF,IAFH,CAEQ,UAAAG,OAAO;MAAA,OAAIL,OAAO,CAACK,OAAO,CAACC,IAAT,CAAX;IAAA,CAFf;EAGD,CAJQ,EAIN,EAJM,CAAT;;EALgB,SAWDC,MAXC;IAAA;EAAA;;EAAA;IAAA,mEAWhB;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAEUC,CAFV,GAEc,CAFd;cAAA;cAAA,OAGYT,IAAI,CAACU,GAAL,CAAS,UAAAC,EAAE,EAAI;gBACrBb,QAAQ,CAACW,CAAD,CAAR,GAAc,CAACE,EAAE,CAACC,MAAJ,EAAYD,EAAE,CAACE,MAAf,CAAd;gBACAC,YAAY,CAACL,CAAD,CAAZ,GAAkB,CAACE,EAAE,CAACI,MAAJ,EAAYJ,EAAE,CAACK,OAAf,CAAlB;gBACAP,CAAC;cAAI,CAHC,CAHZ;;YAAA;cAAA;cAAA;;YAAA;cAAA;cAAA;cAQIQ,OAAO,CAACC,GAAR,CAAY,uBAAZ;cACAD,OAAO,CAACC,GAAR;;YATJ;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAXgB;IAAA;EAAA;;EAuBhBV,MAAM;EAEN,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,QAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CADF;AAKD;;AAED,eAAeT,MAAf;AACA,SAAQD,QAAR"},"metadata":{},"sourceType":"module"}