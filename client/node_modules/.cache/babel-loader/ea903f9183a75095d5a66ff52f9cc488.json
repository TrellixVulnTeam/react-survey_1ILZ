{"ast":null,"code":"import _regeneratorRuntime from \"/Users/vanessa/Desktop/questionnaire/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/vanessa/Desktop/questionnaire/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/vanessa/Desktop/questionnaire/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/vanessa/Desktop/questionnaire/client/src/App.js\";\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport ReactDOM from 'react-dom';\n\nfunction Survey() {\n  // user's response\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1]; // backend data \n\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      list = _useState4[0],\n      setList = _useState4[1]; // fetch list of questions \n\n\n  useEffect(function () {\n    fetch(\"http://localhost:3500/questions/list\").then(function (res) {\n      return res.json();\n    }).then(function (resJson) {\n      return setList(resJson.data);\n    });\n  }, []);\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    console.log(list[0].question);\n    alert(\"Response submitted! Have a good day!\");\n  };\n\n  function buffer() {\n    return _buffer.apply(this, arguments);\n  }\n\n  function _buffer() {\n    _buffer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return list.map(function (qn) {\n                return console.log(qn.question);\n              });\n\n            case 3:\n              _context.next = 8;\n              break;\n\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(\"ERROR! List not ready\");\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 5]]);\n    }));\n    return _buffer.apply(this, arguments);\n  }\n\n  buffer();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, list.map(function (qn) {\n    return qn.question;\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default Survey; //<p> {col.map(c => { return (<div>printing...{typeof(c)}</div>)})} </p>","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","Redirect","ReactDOM","Survey","name","setName","list","setList","fetch","then","res","json","resJson","data","handleSubmit","e","preventDefault","console","log","question","alert","buffer","map","qn","target","value"],"sources":["/Users/vanessa/Desktop/questionnaire/client/src/App.js"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Switch, Route, Redirect,} from \"react-router-dom\";\nimport ReactDOM from 'react-dom'\n\nfunction Survey() {\n  // user's response\n  const [name, setName] = useState(\"\");\n\n  // backend data \n  const [list, setList] = useState([]);\n\n  // fetch list of questions \n  useEffect(() => {\n    fetch(\"http://localhost:3500/questions/list\")\n    .then(res => res.json())\n    .then(resJson => setList(resJson.data))\n  }, [])\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(list[0].question)\n    alert(`Response submitted! Have a good day!`)\n  }\n\n  async function buffer() {\n    try {\n      await list.map(qn => console.log(qn.question))\n    } catch (error) {\n      console.log(\"ERROR! List not ready\")\n    }\n  }\n  buffer()\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <p>{list.map(qn => qn.question)}</p>\n          <input \n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        </label>\n        <input type=\"submit\" />\n      </form>\n    </div>\n  )\n}\n\nexport default Survey;\n\n//<p> {col.map(c => { return (<div>printing...{typeof(c)}</div>)})} </p>"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,MAAlC,EAA0CC,KAA1C,EAAiDC,QAAjD,QAAiE,kBAAjE;AACA,OAAOC,QAAP,MAAqB,WAArB;;AAEA,SAASC,MAAT,GAAkB;EAChB;EADgB,gBAEQR,QAAQ,CAAC,EAAD,CAFhB;EAAA;EAAA,IAETS,IAFS;EAAA,IAEHC,OAFG,kBAIhB;;;EAJgB,iBAKQV,QAAQ,CAAC,EAAD,CALhB;EAAA;EAAA,IAKTW,IALS;EAAA,IAKHC,OALG,kBAOhB;;;EACAX,SAAS,CAAC,YAAM;IACdY,KAAK,CAAC,sCAAD,CAAL,CACCC,IADD,CACM,UAAAC,GAAG;MAAA,OAAIA,GAAG,CAACC,IAAJ,EAAJ;IAAA,CADT,EAECF,IAFD,CAEM,UAAAG,OAAO;MAAA,OAAIL,OAAO,CAACK,OAAO,CAACC,IAAT,CAAX;IAAA,CAFb;EAGD,CAJQ,EAIN,EAJM,CAAT;;EAMA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,CAAD,EAAO;IAC1BA,CAAC,CAACC,cAAF;IACAC,OAAO,CAACC,GAAR,CAAYZ,IAAI,CAAC,CAAD,CAAJ,CAAQa,QAApB;IACAC,KAAK,wCAAL;EACD,CAJD;;EAdgB,SAoBDC,MApBC;IAAA;EAAA;;EAAA;IAAA,mEAoBhB;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,OAEUf,IAAI,CAACgB,GAAL,CAAS,UAAAC,EAAE;gBAAA,OAAIN,OAAO,CAACC,GAAR,CAAYK,EAAE,CAACJ,QAAf,CAAJ;cAAA,CAAX,CAFV;;YAAA;cAAA;cAAA;;YAAA;cAAA;cAAA;cAIIF,OAAO,CAACC,GAAR,CAAY,uBAAZ;;YAJJ;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CApBgB;IAAA;EAAA;;EA2BhBG,MAAM;EAEN,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAM,QAAQ,EAAEP,YAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAIR,IAAI,CAACgB,GAAL,CAAS,UAAAC,EAAE;IAAA,OAAIA,EAAE,CAACJ,QAAP;EAAA,CAAX,CAAJ,CADF,eAEE;IACE,IAAI,EAAC,MADP;IAEE,KAAK,EAAEf,IAFT;IAGE,QAAQ,EAAE,kBAACW,CAAD;MAAA,OAAOV,OAAO,CAACU,CAAC,CAACS,MAAF,CAASC,KAAV,CAAd;IAAA,CAHZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,CADF,eASE;IAAO,IAAI,EAAC,QAAZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EATF,CADF,CADF;AAeD;;AAED,eAAetB,MAAf,C,CAEA"},"metadata":{},"sourceType":"module"}